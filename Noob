local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- X√≥a GUI c≈© n·∫øu c√≥
local oldGui = playerGui:FindFirstChild("SyncPanel")
if oldGui then oldGui:Destroy() end

-- ü™ü ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "SyncPanel"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.Parent = playerGui

-- üéõÔ∏è Frame ch√≠nh
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 320, 0, 180)
frame.Position = UDim2.new(0.5, -160, 0.5, -90)
frame.BackgroundColor3 = Color3.fromRGB(32, 32, 36)
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

-- Bo g√≥c + b√≥ng
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local shadow = Instance.new("ImageLabel")
shadow.Image = "rbxassetid://1316045217"
shadow.ImageTransparency = 0.6
shadow.Size = UDim2.new(1, 20, 1, 20)
shadow.Position = UDim2.new(0, -10, 0, -10)
shadow.ZIndex = 0
shadow.BackgroundTransparency = 1
shadow.Parent = frame

-- üîπ Thanh ti√™u ƒë·ªÅ
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 34)
titleBar.BackgroundColor3 = Color3.fromRGB(45, 45, 52)
titleBar.Parent = frame
Instance.new("UICorner", titleBar).CornerRadius = UDim.new(0, 10)

local title = Instance.new("TextLabel")
title.Text = "Sync Panel"
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.BackgroundTransparency = 1
title.Position = UDim2.new(0, 12, 0, 0)
title.Size = UDim2.new(1, -50, 1, 0)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = titleBar

local closeBtn = Instance.new("TextButton")
closeBtn.Text = "‚úï"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 16
closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeBtn.BackgroundTransparency = 1
closeBtn.Size = UDim2.new(0, 32, 1, 0)
closeBtn.Position = UDim2.new(1, -32, 0, 0)
closeBtn.Parent = titleBar

closeBtn.MouseButton1Click:Connect(function()
	TweenService:Create(frame, TweenInfo.new(0.3), {BackgroundTransparency = 1}):Play()
	task.wait(0.3)
	screenGui:Destroy()
end)

-- üî∏ Status
local status = Instance.new("TextLabel")
status.Text = "Status: üî¥ Waiting"
status.Font = Enum.Font.GothamMedium
status.TextSize = 14
status.TextColor3 = Color3.fromRGB(200, 200, 200)
status.BackgroundTransparency = 1
status.Position = UDim2.new(0, 14, 0, 50)
status.Size = UDim2.new(1, -28, 0, 20)
status.Parent = frame

-- üîπ Progress Bar n·ªÅn
local progressBack = Instance.new("Frame")
progressBack.Size = UDim2.new(0, 280, 0, 10)
progressBack.Position = UDim2.new(0.5, -140, 0, 80)
progressBack.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
progressBack.Parent = frame
Instance.new("UICorner", progressBack).CornerRadius = UDim.new(0, 6)

-- Thanh ti·∫øn tr√¨nh ch√≠nh
local progressFill = Instance.new("Frame")
progressFill.Size = UDim2.new(0, 0, 1, 0)
progressFill.BackgroundColor3 = Color3.fromRGB(93, 118, 255)
progressFill.Parent = progressBack
Instance.new("UICorner", progressFill).CornerRadius = UDim.new(0, 6)

-- üîπ N√∫t Sync
local syncBtn = Instance.new("TextButton")
syncBtn.Text = "Start Sync"
syncBtn.Font = Enum.Font.GothamBold
syncBtn.TextSize = 16
syncBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
syncBtn.BackgroundColor3 = Color3.fromRGB(93, 118, 255)
syncBtn.Size = UDim2.new(0, 280, 0, 40)
syncBtn.Position = UDim2.new(0.5, -140, 0, 105)
syncBtn.Parent = frame
Instance.new("UICorner", syncBtn).CornerRadius = UDim.new(0, 8)

-- Hover hi·ªáu ·ª©ng
syncBtn.MouseEnter:Connect(function()
	TweenService:Create(syncBtn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(115, 140, 255)}):Play()
end)
syncBtn.MouseLeave:Connect(function()
	TweenService:Create(syncBtn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(93, 118, 255)}):Play()
end)

-- üîª Footer
local footer = Instance.new("TextLabel")
footer.Text = "PhatLee ‚Ä¢ Modern UI"
footer.Font = Enum.Font.Gotham
footer.TextSize = 12
footer.TextColor3 = Color3.fromRGB(150, 150, 150)
footer.BackgroundTransparency = 1
footer.Position = UDim2.new(0, 0, 1, -22)
footer.Size = UDim2.new(1, 0, 0, 20)
footer.Parent = frame

-- üîÑ Logic Sync
local syncing = false
syncBtn.MouseButton1Click:Connect(function()
	if syncing then return end
	syncing = true

	status.Text = "Status: üü° Syncing..."
	syncBtn.Text = "Syncing..."
	TweenService:Create(syncBtn, TweenInfo.new(0.3), {BackgroundTransparency = 0.4}):Play()

	local totalTime = 30  -- 30 gi√¢y
	local steps = totalTime * 2  -- c·∫≠p nh·∫≠t m·ªói 0.5s

	for i = 1, steps do
		local progress = i / steps
		TweenService:Create(progressFill, TweenInfo.new(0.4), {Size = UDim2.new(progress, 0, 1, 0)}):Play()
		syncBtn.Text = string.format("Syncing... %d%%", math.floor(progress * 100))
		task.wait(0.5)
	end

	status.Text = "Status: üü¢ Synced successfully!"
	syncBtn.Text = "Done!"
	TweenService:Create(syncBtn, TweenInfo.new(0.3), {BackgroundTransparency = 0}):Play()

	task.wait(2)
	syncBtn.Text = "Start Sync"
	status.Text = "Status: üî¥ Waiting"
	TweenService:Create(progressFill, TweenInfo.new(0.4), {Size = UDim2.new(0, 0, 1, 0)}):Play()
	syncing = false
end)
